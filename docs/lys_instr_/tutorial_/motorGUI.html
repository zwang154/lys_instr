

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Motor GUI &mdash; lys_instr  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Switch GUI" href="switchGUI.html" />
    <link rel="prev" title="Templates" href="templates.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            lys_instr
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../tutorial.html#essential">Essential</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../tutorial.html#advanced">Advanced</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Motor GUI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-motor-gui">Creating a Motor GUI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#customizing-set-jog-and-offset">Customizing Set, Jog, and Offset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-bookmarks">Using Bookmarks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="switchGUI.html">Switch GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="detectorGUI.html">Detector GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="storageGUI.html">Storage GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="scanGUI.html">Scan GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="preCorrection.html">Axis Calibration and Dependency</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">lys_instr</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../tutorial.html">Tutorial</a></li>
      <li class="breadcrumb-item active">Motor GUI</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/lys_instr_/tutorial_/motorGUI.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="motor-gui">
<h1>Motor GUI<a class="headerlink" href="#motor-gui" title="Link to this heading"></a></h1>
<section id="creating-a-motor-gui">
<h2>Creating a Motor GUI<a class="headerlink" href="#creating-a-motor-gui" title="Link to this heading"></a></h2>
<p>To create a motor GUI subwindow:</p>
<ol class="arabic simple">
<li><p>Launch <em>lys</em> and open the <code class="docutils literal notranslate"><span class="pre">proc.py</span></code> file (press Ctrl+P).</p></li>
<li><p>Add the following code to define a class for the motor GUI subwindow and save it (press Ctrl+S).</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">lys.widgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">LysSubWindow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">lys_instr</span><span class="w"> </span><span class="kn">import</span> <span class="n">gui</span><span class="p">,</span> <span class="n">dummy</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Window</span><span class="p">(</span><span class="n">LysSubWindow</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="n">motor</span> <span class="o">=</span> <span class="n">dummy</span><span class="o">.</span><span class="n">MultiMotorDummy</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">)</span>  <span class="c1"># Create the motor instance</span>
        <span class="n">motorGUI</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MultiMotorGUI</span><span class="p">(</span><span class="n">motor</span><span class="p">)</span>      <span class="c1"># Create the motor GUI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="n">motorGUI</span><span class="p">)</span>                 <span class="c1"># Embed the motor GUI in the lys subwindow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adjustSize</span><span class="p">()</span>
</pre></div>
</div>
<p>Calling <code class="docutils literal notranslate"><span class="pre">Window()</span></code> in the <em>lys</em> command line launches the GUI subwindow as follows:</p>
<img alt="../../_images/motor_1.png" src="../../_images/motor_1.png" />
<p>You can input target positions for each axis and click the ‘Go’ button to start motion, the ‘Stop’ button to halt motion, or set the step size and use the arrow buttons to jog each axis.</p>
<p>The indicator next to each axis shows its connection status—green for a successful connection, and red for a disconnected or error state.</p>
<p>Clicking the “Settings” button opens a dialog.</p>
<a class="reference internal image-reference" href="../../_images/motor_2.png"><img alt="../../_images/motor_2.png" src="../../_images/motor_2.png" style="width: 279.2px; height: 144.0px;" />
</a>
<p>Within the dialog, you can offset each axis.
Clicking the “Offset” button defines the current value of the axis as zero and records the offset value in the box to the left.
Clicking the “Unset” button removes the offset and restores the true values.
The “Now At” and “Move To” fields in the main window are automatically updated to reflect the current offset.</p>
<p>See also <span class="xref std std-doc">Motor Options</span> for details on customizing the motor GUI.</p>
</section>
<section id="customizing-set-jog-and-offset">
<h2>Customizing Set, Jog, and Offset<a class="headerlink" href="#customizing-set-jog-and-offset" title="Link to this heading"></a></h2>
<p>Enable the “set”, “jog”, and “offset” functions for specific axes when you instantiate the motor GUI.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">lys.widgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">LysSubWindow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">lys_instr</span><span class="w"> </span><span class="kn">import</span> <span class="n">gui</span><span class="p">,</span> <span class="n">dummy</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Window</span><span class="p">(</span><span class="n">LysSubWindow</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="n">motor</span> <span class="o">=</span> <span class="n">dummy</span><span class="o">.</span><span class="n">MultiMotorDummy</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>

        <span class="c1"># Specify which axes are settable, joggable, or offsettable using axisNamesSettable, axisNamesJoggable, and axisNamesOffsettable</span>
        <span class="n">motorGUI</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MultiMotorGUI</span><span class="p">(</span><span class="n">motor</span><span class="p">,</span> <span class="n">axisNamesSettable</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">),</span> <span class="n">axisNamesJoggable</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">),</span> <span class="n">axisNamesOffsettable</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="n">motorGUI</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adjustSize</span><span class="p">()</span>
</pre></div>
</div>
<p>The resulting GUI window appears as follows. Now, only the “x” axis can be jogged, and only the “x” and “y” axes can be set:</p>
<img alt="../../_images/motor_3.png" src="../../_images/motor_3.png" />
<p>In the “Settings” dialog, only the “x” and “z” axes are available for offset control:</p>
<a class="reference internal image-reference" href="../../_images/motor_4.png"><img alt="../../_images/motor_4.png" src="../../_images/motor_4.png" style="width: 279.2px; height: 172.0px;" />
</a>
<p>The “Offset” button sets the current position value of the axis to zero and records the offset value in the box to the left.
The “Unset” button removes the offset for the axis and restores its true position value.</p>
</section>
<section id="using-bookmarks">
<h2>Using Bookmarks<a class="headerlink" href="#using-bookmarks" title="Link to this heading"></a></h2>
<p>To enable bookmark management, when you create the motor GUI:</p>
<ul class="simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">memory</span></code> to “bottom” or “right” to choose the memory panel position.</p></li>
<li><p>Provide a file name or full path for <code class="docutils literal notranslate"><span class="pre">memoryPath</span></code>.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">lys.widgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">LysSubWindow</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">lys_instr</span><span class="w"> </span><span class="kn">import</span> <span class="n">gui</span><span class="p">,</span> <span class="n">dummy</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Window</span><span class="p">(</span><span class="n">LysSubWindow</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="n">motor</span> <span class="o">=</span> <span class="n">dummy</span><span class="o">.</span><span class="n">MultiMotorDummy</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">)</span>

        <span class="c1"># Setting memory to &quot;bottom&quot; or &quot;right&quot; and providing a file name or full path for memoryPath</span>
        <span class="n">motorGUI</span> <span class="o">=</span> <span class="n">gui</span><span class="o">.</span><span class="n">MultiMotorGUI</span><span class="p">(</span><span class="n">motor</span><span class="p">,</span> <span class="n">memory</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span> <span class="n">memoryPath</span><span class="o">=</span><span class="s2">&quot;YourMemoryFileName&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="n">motorGUI</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adjustSize</span><span class="p">()</span>
</pre></div>
</div>
<p>The memory panel appears in the motor GUI:</p>
<img alt="../../_images/motor_5.png" src="../../_images/motor_5.png" />
<p>Clicking <strong>Save</strong> adds a bookmark for the current values of all axes to the list.
You can optionally add a description using the memo input field.
When the first bookmark is added, a file with the specified name is automatically created to store the bookmarks.
If only a file name is provided for <code class="docutils literal notranslate"><span class="pre">memoryPath</span></code>, the default path is “.lys\.lys_instr\YourMemoryFileName.lst”.</p>
<p>To restore a position, select a bookmark from the list and click <strong>Load</strong>.
To remove a bookmark, select it and click <strong>Delete</strong>.</p>
<p>Bookmarks always store the absolute values of each axis, so the offsetting logic does not affect them.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="templates.html" class="btn btn-neutral float-left" title="Templates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="switchGUI.html" class="btn btn-neutral float-right" title="Switch GUI" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Ziqian Wang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>